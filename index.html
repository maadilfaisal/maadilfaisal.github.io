<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Website Title -->
    <title>Aadil Faisal - Computer Science Student & Developer</title>
    <!-- SEO Meta Description -->
    <meta name="description" content="I am a Computer Science Undergrad at FAST NUCES Multan. Explore my portfolio on my personal website.">
    <meta name="keywords" content="Aadil Faisal, Aadil Baloch, FAST NUCES, Computer Science, Portfolio, Software Developer, Multan">
    <!-- Favicon -->
    <link rel="icon" href="assets/img/circle-logo.png" type="image/png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Remixicon for Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800&display=swap" rel="stylesheet">


    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        :root {
            --bg-start: #f0f9ff;
            --bg-end: #e0f2fe;
        } 
        
        body {
            font-family: 'Inter', sans-serif;
            /* Dynamic background gradient */
            background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
            transition: background 0.8s ease-out;
            /* Hide scrollbar but keep scrolling */
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;     /* Firefox */
        }
        body::-webkit-scrollbar {
            display: none;              /* Chrome, Safari, Opera */
        }

        /* Prevent scrolling while preloader is active */
        body.loading {
            overflow: hidden;
        }

        /* Style for the particles.js container */
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        /* Ensure content is above the particles background but allow pointer events to pass through */
        section {
            position: relative;
            z-index: 1;
            pointer-events: none; /* Allows mouse to interact with canvas behind */
        }

        /* Re-enable pointer events for the content that needs to be interactive */
        .content-container, .container {
             pointer-events: auto;
        }

        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
            overflow-y: auto; /* allow vertical scrolling */
        }

        /* Hide scrollbar but keep scrolling */
        html::-webkit-scrollbar, 
        body::-webkit-scrollbar {
            display: none;  /* Chrome, Safari, Opera */
        }

        /* Smooth transitions for interactive elements */
        .social-icon, .skills-card, .education-card, .contact-card {
            transition: all 0.3s ease-in-out;
        }

        .social-icon:hover {
            transform: translateY(-4px) scale(1.1);
            color: #14b8a6; /* Teal color on hover */
        }

        .skills-card:hover, .education-card:hover, .contact-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }

        #humor-modal {
            transition: opacity 0.3s ease;
        }

        /* Preloader Styles */
        #preloader {
            transition: opacity 0.6s ease-in-out, visibility 0.6s ease-in-out;
            visibility: visible;
            opacity: 1;
        }

        #preloader.preloader-hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Letter Reveal Animation */
        .welcome-container {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: clamp(2.5rem, 15vw, 8rem);
            text-align: center;
            color: #0d9488;
            display: flex;
            justify-content: center;
        }

        .welcome-container span {
            display: inline-block;
            opacity: 0;
            transform: translateY(30px) scale(0.9);
            animation: revealLetter 0.6s forwards;
        }

        .welcome-container span:nth-child(1) { animation-delay: 0.1s; }
        .welcome-container span:nth-child(2) { animation-delay: 0.2s; }
        .welcome-container span:nth-child(3) { animation-delay: 0.3s; }
        .welcome-container span:nth-child(4) { animation-delay: 0.4s; }
        .welcome-container span:nth-child(5) { animation-delay: 0.5s; }
        .welcome-container span:nth-child(6) { animation-delay: 0.6s; }
        .welcome-container span:nth-child(7) { animation-delay: 0.7s; }


        @keyframes revealLetter {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Styles for the slow loading message */
        #slow-load-message {
            color: #0d9488; /* Teal color from the theme */
            font-size: 0.875rem; /* 14px */
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            font-family: 'Inter', sans-serif;
        }
        #slow-load-message.visible {
            opacity: 1;
        }

        /* --- New styles for text interactivity --- */
        #home h1, #home p {
            user-select: none; /* Prevents the I-beam cursor from showing on click */
            cursor: default;
        }
        #home h1, #home p.font-semibold {
            transition: transform 0.3s ease, text-shadow 0.3s ease;
        }
        #home h1:hover {
            transform: scale(1.02);
            text-shadow: 0px 4px 8px rgba(0,0,0,0.25); /* Enhance shadow on hover for a lift effect */
        }
        #home p.font-semibold:hover {
            transform: scale(1.02);
        }

        /* Chat Widget Styles */
        #chat-widget-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            font-family: 'Inter', sans-serif;
        }
        
        #chat-window {
            display: none;
            flex-direction: column;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #chat-messages {
            flex-grow: 1;
            padding: 16px;
            overflow-y: auto;
            background-color: #f9fafb;
        }

        .message {
            margin-bottom: 12px;
            max-width: 80%;
            padding: 10px 14px;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .message.user {
            background-color: #0d9488;
            color: white;
            align-self: flex-end;
            margin-left: auto;
            border-bottom-right-radius: 2px;
        }

        .message.bot {
            background-color: #e5e7eb;
            color: #1f2937;
            align-self: flex-start;
            border-bottom-left-radius: 2px;
        }

        .typing-indicator span {
            display: inline-block;
            width: 6px;
            height: 6px;
            background-color: #9ca3af;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
            margin: 0 1px;
        }
        
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "name": "Aadil Faisal",
  "url": "https://maadilfaisal.github.io",
  "sameAs": [
    "https://www.linkedin.com/in/aadil-f-6b43632b6/",
    "https://github.com/maadilfaisal",
    "https://www.instagram.com/a4dil.f",
    "https://www.facebook.com/aadil.baloch.1068"
  ],
  "jobTitle": "Computer Science Undergraduate",
  "worksFor": {
    "@type": "Organization",
    "name": "FAST NUCES Multan"
  },
  "alumniOf": [
    {
      "@type": "EducationalOrganization",
      "name": "Akhuwat College University Kasur"
    }
  ]
}
</script>
</head>
<body class="text-slate-700 loading">
    <!-- Opening Animation / Preloader -->
    <div id="preloader" class="fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-[#f0f9ff] w-full p-4">
        <div class="welcome-container">
            <span>W</span>
            <span>E</span>
            <span>L</span>
            <span>C</span>
            <span>O</span>
            <span>M</span>
            <span>E</span>
        </div>
        <div id="slow-load-message" class="absolute bottom-10 text-center w-full">
            <!-- This container will be filled by JavaScript if loading is slow -->
        </div>
    </div>
    
    <div id="particles-js"></div>

        <!-- Home/Profile Section -->
<section id="home" class="relative h-screen flex items-center justify-center text-center overflow-hidden">
    <div class="content-container max-w-4xl mx-auto px-6">
        <img src="./assests/img/profile.jpg" 
        alt="Aadil Faisal Profile Picture" 
        class="w-60 h-60 rounded-full mx-auto mb-6 border-4 border-white shadow-lg" 
        onerror="this.onerror=null;this.src='https://placehold.co/150x150/e0e7ff/4f46e5?text=Aadil';">

        
        <h1 class="text-4xl md:text-6xl font-bold text-slate-800 mb-2" style="font-family: 'Nunito', sans-serif; font-weight: 800; text-shadow: 0px 2px 4px rgba(0,0,0,0.2);">Aadil Faisal</h1>
        <br>
        <p class="text-lg md:text-xl text-teal-600 font-semibold mb-6">CS Undergrad @ FAST NUCES Multan</p>

        <div id="socials-container" class="flex justify-center space-x-6">
  <a
    href="https://www.linkedin.com/in/aadil-f-6b43632b6/"
    target="_blank"
    class="text-teal-500 text-4xl hover:text-teal-600 transition-colors social-icon"
  >
    <i class="ri-linkedin-box-line"></i>
  </a>
  <a
    href="https://github.com/maadilfaisal"
    target="_blank"
    class="text-teal-500 text-4xl hover:text-teal-600 transition-colors social-icon"
  >
    <i class="ri-github-line"></i>
  </a>
  <a
    href="https://www.instagram.com/a4dil.f/"
    target="_blank"
    class="text-teal-500 text-4xl hover:text-teal-600 transition-colors social-icon"
  >
    <i class="ri-instagram-line"></i>
  </a>
</div>


    </div>
</section>


        <!-- About Section -->
        <section id="about" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold text-slate-800 mb-12 section-title">About Me</h2>
                <br>
            <div class="max-w-4xl mx-auto bg-white/70 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg flex flex-col md:flex-row items-center gap-4 md:gap-6 mb-8 about-card relative z-10 about-description">
            <div class="text-left">
                <p id="about-text" class="text-slate-600 leading-relaxed">
                    As a passionate Computer Science undergraduate, I am deeply fascinated by the power of code to solve real-world problems. My journey is fueled by a constant curiosity and a drive to build efficient, scalable, and elegant software solutions.
                    <br><br>
                    I am currently honing my foundational skills in C++ and exploring the vast landscape of web technologies. My goal is to leverage my technical abilities to contribute to innovative projects and collaborate with like-minded individuals. I believe in the importance of clean code, continuous learning, and methodical problem-solving.
                    <br><br>
                    When I'm not coding, I enjoy strategic thinking through a game of chess. I'm excited to continue growing as a developer and to see where this path takes me next.
                </p>
            </div>
            </div>

                </div>
            </section>
        <!-- Education Section -->
<section id="education" class="py-20">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-slate-800 mb-12 section-title">Education</h2>

        <!-- BS CS -->
        <div class="max-w-4xl mx-auto bg-white/70 backdrop-blur-sm p-4 md:p-8 rounded-2xl shadow-lg flex flex-col md:flex-row items-center gap-4 md:gap-6 mb-8 education-card">
            <img src="./assests/img/fast.png" alt="FAST Logo"
                 class="w-24 h-24 md:w-32 md:h-32 rounded-full mb-4 md:mb-0"
                 onerror="this.onerror=null;this.src='https://placehold.co/100x100/e0e7ff/4f46e5?text=FAST';">
            <div class="text-center md:text-left w-full">
                <h3 class="text-xl md:text-2xl font-bold text-slate-800">Bachelor's - Computer Science</h3>
                <p class="text-md md:text-lg text-teal-600 font-medium">National University of Computer & Emerging Sciences, Multan</p>
                <p class="text-slate-500 mt-1">2025 - 2029</p>
            </div>
        </div>

        <!-- Intermediate -->
        <div class="max-w-4xl mx-auto bg-white/70 backdrop-blur-sm p-4 md:p-8 rounded-2xl shadow-lg flex flex-col md:flex-row items-center gap-4 md:gap-6 mb-8 education-card">
            <img src="./assests/img/ack.jpg" alt="ACK Logo"
                 class="w-24 h-24 md:w-32 md:h-32 rounded-full mb-4 md:mb-0"
                 onerror="this.onerror=null;this.src='https://placehold.co/100x100/e0e7ff/4f46e5?text=ACK';">
            <div class="text-center md:text-left w-full">
                <h3 class="text-xl md:text-2xl font-bold text-slate-800">Intermediate - Computer Science</h3>
                <p class="text-md md:text-lg text-teal-600 font-medium">Akhuwat College University Kasur</p>
                <p class="text-slate-500 mt-1">2023 - 2025</p>
            </div>
        </div>

        <!-- Matric -->
        <div class="max-w-4xl mx-auto bg-white/70 backdrop-blur-sm p-4 md:p-8 rounded-2xl shadow-lg flex flex-col md:flex-row items-center gap-4 md:gap-6 education-card">
            <img src="./assests/img/school.jpg" alt="NC Mithi Logo"
                 class="w-24 h-24 md:w-32 md:h-32 rounded-full mb-4 md:mb-0"
                 onerror="this.onerror=null;this.src='https://placehold.co/100x100/e0e7ff/4f46e5?text=SCHOOL';">
            <div class="text-center md:text-left w-full">
                <h3 class="text-xl md:text-2xl font-bold text-slate-800">Matriculation - Computer Science</h3>
                <p class="text-md md:text-lg text-teal-600 font-medium">Jinnah Public High School Mana Ahmadani</p>
                <p class="text-slate-500 mt-1">2014 - 2023</p>
            </div>
        </div>
    </div>
</section>

<!-- Skills Section -->
<section id="skills" class="py-20">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-slate-800 mb-2 section-title">Skills</h2>
        <br>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
            <div id="languages-card" class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md skills-card cursor-pointer">
                <i class="ri-code-s-slash-line text-4xl text-teal-500 mb-4 inline-block"></i>
                <h3 class="text-xl font-semibold mb-3">Languages</h3>
                <p class="text-slate-500 skill-item">C, C++, Python (Basic)</p>
            </div>
            <div id="tools-card" class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md skills-card cursor-pointer">
                <i class="ri-tools-line text-4xl text-teal-500 mb-4 inline-block"></i>
                <h3 class="text-xl font-semibold mb-3">Tools</h3>
                <p class="text-slate-500 skill-item">Git, GitHub, Linux</p>
            </div>
            <a href="https://www.chess.com/member/aadilbaloch0" target="_blank" rel="noopener noreferrer" class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md skills-card block">
                <i class="ri-gamepad-line text-4xl text-teal-500 mb-4 inline-block"></i>
                <h3 class="text-xl font-semibold mb-3">Hobbies</h3>
                <p class="text-slate-500 skill-item">Chess</p>
            </a>
        </div>
    </div>
</section>

<section id="contact" class="py-20 pb-2">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-slate-800 mb-6 section-title">Contact Me</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
            <a href="https://mail.google.com/mail/?view=cm&to=aadilfaisal1068@gmail.com" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center" target="_blank">
                <i class="ri-mail-send-line text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">Email</h3>
            </a>
            <a href="https://wa.me/923006786550" target="_blank" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center">
                <i class="ri-whatsapp-line text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">WhatsApp</h3>
            </a>
            <a href="https://www.linkedin.com/in/aadil-f-6b43632b6/" target="_blank" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center">
                <i class="ri-linkedin-box-line text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">LinkedIn</h3>
            </a>
            <a href="https://github.com/maadilfaisal" target="_blank" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center">
                <i class="ri-github-fill text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">GitHub</h3>
            </a>
            <a href="https://www.instagram.com/a4dil.f" target="_blank" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center">
                <i class="ri-instagram-fill text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">Instagram</h3>
            </a>
            <a href="https://www.facebook.com/aadil.baloch.1068" target="_blank" class="contact-card bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md flex flex-col items-center">
                <i class="ri-facebook-fill text-5xl text-teal-500 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">Facebook</h3>
            </a>
        </div>
        <br><br><br>
        <p class="text-sm text-slate-400 mt-2 mb-0">&copy; 2025 Aadil Faisal. All Rights Reserved.</p>
    </div>
</section>

<!-- Humorous Message Modal -->
<div id="humor-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
    <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-sm mx-auto">
        <p id="humor-text" class="text-slate-700 text-lg mb-6"></p>
        <button id="close-humor-modal" class="bg-teal-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-600 transition-colors">Got it!</button>
    </div>
</div>

<!-- Gemini Chat Widget Structure -->
<div id="chat-widget-container">
    <div id="chat-window">
        <div class="bg-teal-600 text-white p-4 flex justify-between items-center shadow-sm">
            <div class="flex items-center gap-2">
                <i class="ri-robot-2-line text-xl"></i>
                <h3 class="font-semibold">Aadil's AI Assistant</h3>
            </div>
            <button id="close-chat" class="hover:bg-teal-700 p-1 rounded transition-colors"><i class="ri-close-line text-xl"></i></button>
        </div>
        <div id="chat-messages">
            <div class="message bot">
                Hi there! I'm Aadil's AI assistant. Ask me anything about his skills, education, or experience! ðŸ¤–
            </div>
        </div>
        <div class="p-4 bg-white border-t border-gray-100 flex gap-2">
            <input type="text" id="chat-input" placeholder="Type your message..." class="flex-grow px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:border-teal-500 focus:ring-1 focus:ring-teal-500 text-sm">
            <button id="send-message" class="bg-teal-600 text-white p-2 rounded-full hover:bg-teal-700 transition-colors w-10 h-10 flex items-center justify-center shadow-md">
                <i class="ri-send-plane-fill"></i>
            </button>
        </div>
    </div>
    
    <button id="chat-toggle" class="bg-teal-600 text-white w-14 h-14 rounded-full shadow-lg hover:bg-teal-700 transition-all hover:scale-110 flex items-center justify-center mt-4 ml-auto pointer-events-auto">
        <i class="ri-chat-smile-2-fill text-2xl"></i>
    </button>
</div>

    <!-- External Libraries -->
    <!-- Particles.js for animated background -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <!-- ScrollReveal.js for scroll animations -->
    <script src="https://unpkg.com/scrollreveal"></script>
    

    <!-- Main JavaScript Logic -->
    <script>
        
        document.addEventListener('DOMContentLoaded', () => {
            // --- PRELOADER AND ANIMATION LOGIC ---
            const preloader = document.getElementById('preloader');
            const body = document.body;

            body.classList.add('loading');
            window.scrollTo(0, 0);

            // --- Robust preloader removal ---
            const hidePreloader = () => {
                if (preloader) {
                    preloader.classList.add('preloader-hidden');
                    // Use a timeout that matches the CSS transition to ensure it's removed
                    setTimeout(() => {
                        body.classList.remove('loading');
                        if(preloader) preloader.style.display = 'none';
                    }, 600); // Matches the 0.6s transition in CSS
                }
            };

            let minTimePassed = false;
            setTimeout(() => { minTimePassed = true; }, 1500);

            window.addEventListener('load', () => {
                const check = setInterval(() => {
                    if (minTimePassed) {
                        clearInterval(check);
                        hidePreloader();
                    }
                }, 100);
            });
            
             setTimeout(hidePreloader, 5000);


            const sr = ScrollReveal({
                origin: 'top',
                distance: '60px',
                duration: 2000,
                delay: 200,
                reset: false
            });

            sr.reveal('#home h1, #home p, #home div a', { interval: 100 });
            sr.reveal('#home img', { origin: 'bottom' });
            sr.reveal('.section-title, .about-description', { origin: 'left' });
            sr.reveal('.skills-card', { interval: 100 });
            sr.reveal('.education-card', { origin: 'bottom' });
            sr.reveal('.contact-card', { interval: 100, origin: 'bottom' });

            
            particlesJS('particles-js', {
                "particles": {
                    "number": { "value": 150, "density": { "enable": true, "value_area": 800 } },
                     "color": { "value": ["#14b8a6", "#2dd4bf", "#5eead4", "#a7f3d0"] },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.5, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0.1, "sync": false } },
                    "size": { "value": 3, "random": true, "anim": { "enable": false } },
                    "line_linked": { "enable": true, "distance": 150, "color": "#99f6e4", "opacity": 0.2, "width": 1 },
                    "move": { "enable": true, "speed": 2, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": { "onhover": { "enable": true, "mode": "grab" }, "onclick": { "enable": false }, "resize": true  },
                    "modes": { "grab": { "distance": 140, "line_linked": { "opacity": 0.5 } }, "bubble": {}, "repulse": {}, "push": {}, "remove": {} }
                },
                "retina_detect": true
            });

            const languagesCard = document.getElementById('languages-card');
            const toolsCard = document.getElementById('tools-card');
            const humorModal = document.getElementById('humor-modal');
            const humorText = document.getElementById('humor-text');
            const closeHumorModalBtn = document.getElementById('close-humor-modal');

            const showHumorModal = (message) => {
                humorText.textContent = message;
                humorModal.classList.remove('hidden');
                humorModal.classList.add('flex');
            };

            const hideHumorModal = () => {
                humorModal.classList.add('hidden');
                humorModal.classList.remove('flex');
            };

            const languagesMessage = "You clicked the 'Languages' card! While this card doesn't speak C++ or Python, it does speak the language of 'You're Awesome!' âœ¨";
            const toolsMessage = "Ah, the 'Tools' card! This one isn't a hammer or a wrench, but it's here to build up your confidence. Keep being amazing! ðŸš€";

            if (languagesCard) languagesCard.addEventListener('click', () => showHumorModal(languagesMessage));
            if (toolsCard) toolsCard.addEventListener('click', () => showHumorModal(toolsMessage));
            if (closeHumorModalBtn) closeHumorModalBtn.addEventListener('click', hideHumorModal);
            if (humorModal) humorModal.addEventListener('click', (e) => {
                if (e.target === humorModal) hideHumorModal();
            });
            
            // --- MORE PERFORMANT BACKGROUND CHANGE ---
            const sections = document.querySelectorAll('section');
            const root = document.documentElement;
            const colorMap = {
                'home': ['#f0f9ff', '#e0f2fe'],        // Sky Blue
                'about': ['#f0fdfa', '#ccfbf1'],       // Teal/Mint
                'education': ['#ecfdf5', '#d1fae5'], // Green/Mint
                'skills': ['#f0fdfa', '#ccfbf1'],      // Teal/Mint again
                'contact': ['#f0f9ff', '#e0f2fe']      // Back to Sky Blue
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const newColors = colorMap[entry.target.id];
                        if (newColors) {
                            root.style.setProperty('--bg-start', newColors[0]);
                            root.style.setProperty('--bg-end', newColors[1]);
                        }
                    }
                });
            }, { threshold: 0.5 }); // Trigger when 50% of the section is visible

            sections.forEach(section => {
                observer.observe(section);
            });
            
            // --- GEMINI CHATBOT LOGIC ---
            const chatToggle = document.getElementById('chat-toggle');
            const chatWindow = document.getElementById('chat-window');
            const closeChat = document.getElementById('close-chat');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-message');
            const messagesContainer = document.getElementById('chat-messages');

            // Toggle Chat
            chatToggle.addEventListener('click', () => {
                chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
                chatToggle.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
                if(chatWindow.style.display === 'flex') chatInput.focus();
            });

            closeChat.addEventListener('click', () => {
                chatWindow.style.display = 'none';
                chatToggle.style.display = 'flex';
            });

            // Add Message Function
            function addMessage(text, sender) {
                const div = document.createElement('div');
                div.className = `message ${sender}`;
                div.textContent = text;
                messagesContainer.appendChild(div);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function addTypingIndicator() {
                const div = document.createElement('div');
                div.className = `message bot typing-indicator`;
                div.id = 'typing';
                div.innerHTML = '<span></span><span></span><span></span>';
                messagesContainer.appendChild(div);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function removeTypingIndicator() {
                const typing = document.getElementById('typing');
                if (typing) typing.remove();
            }

            // Gemini API Call
            async function callGemini(userMessage) {
                // ---------------------------------------------------------
                // âš ï¸ IMPORTANT: PASTE YOUR API KEY BELOW
                // ---------------------------------------------------------
                const apiKey = ""; 
                
                if (!apiKey || apiKey === "") {
                    return "âš ï¸ Error: API Key is missing. Please open index.html and paste your key in line 1062.";
                }

                // Switched to 'gemini-2.5-flash-preview-09-2025' for better stability
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                
                // System context based on the website content
                const systemPrompt = `You are an AI assistant for Aadil Faisal's portfolio website. 
                Be polite, concise, and helpful. Answer questions based on this context:
                - Name: Aadil Faisal
                - Role: Computer Science Undergraduate
                - Institution: FAST NUCES Multan (2025-2029)
                - Previous Education: Akhuwat College University Kasur (Intermediate 2023-2025), Jinnah Public High School (Matric).
                - Skills: C, C++, Python (Basic), Git, GitHub, Linux.
                - Hobbies: Chess.
                - Contact: Email (aadilfaisal1068@gmail.com), LinkedIn, GitHub, Instagram.
                If asked something outside this scope, politely say you only know about Aadil's professional profile.`;

                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userMessage }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    const data = await response.json();

                    // Check if Google returned an error (like 400 or 403)
                    if (data.error) {
                        console.error("Gemini API Error:", data.error);
                        return `âš ï¸ API Error: ${data.error.message}`;
                    }

                    if (!data.candidates || !data.candidates[0].content) {
                        return "âš ï¸ Error: No response from AI. Please try again.";
                    }

                    return data.candidates[0].content.parts[0].text;
                } catch (error) {
                    console.error('Network Error:', error);
                    return "âš ï¸ Network Error: Could not connect to Google AI. Check your internet or API key restrictions.";
                }
            }

            // Handle Send
            async function handleSend() {
                const text = chatInput.value.trim();
                if (!text) return;

                addMessage(text, 'user');
                chatInput.value = '';
                addTypingIndicator();

                const reply = await callGemini(text);
                removeTypingIndicator();
                addMessage(reply, 'bot');
            }

            sendBtn.addEventListener('click', handleSend);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleSend();
            });
        });
    </script>
    
</body>
</html>
